jobtrackai.duckdns.org {
    # Automatic HTTPS with Let's Encrypt

    # Handle /learn paths
    handle /learn/* {
        # CORS headers
        header {
            Access-Control-Allow-Origin https://streaming-service.vercel.app https://jobtrackai.duckdns.org http://localhost:3000
            Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS, PATCH, HEAD"
            Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, Range, Accept"
            Access-Control-Allow-Credentials "true"
            Access-Control-Expose-Headers "Content-Length, Content-Range, Accept-Ranges"
            Access-Control-Max-Age "3600"
        }

        # Reverse proxy to backend
        reverse_proxy learning-platform-backend:5000
    }

    # Health check endpoint
    handle /api/health {
        reverse_proxy learning-platform-backend:5000
    }
}
